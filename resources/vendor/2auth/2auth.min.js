!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){var b=this;return this instanceof d?(p.call(this),l(a,"endpoint"),l(a,"domainId"),l(a,"clientId"),this._endpoint=a.endpoint,this._domainId=a.domainId,this._clientId=a.clientId,this._tenant={id:-1,description:"",literalId:-1},this._protocol=a.protocol||"http:",this._IPs={},void e(function(a){a.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?b._IPs.Local=a:a.match(/^[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}$/)?b._IPs.IPv6=a:b._IPs.External=a})):new d(a)}function e(a){window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;var b=new RTCPeerConnection({iceServers:[]}),c=function(){};b.createDataChannel("",{reliable:!1}),b.createOffer(b.setLocalDescription.bind(b),c),b.onicecandidate=function(d){if(d&&d.candidate&&d.candidate.candidate){var e=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(d.candidate.candidate)[1];a(e),b.onicecandidate=c}}}function f(a,b){return!(!a||null===a[b])}function g(a){if("function"!=typeof a)throw new Error("A callback function is required")}function h(a,b,c){return c=c||"",b+"/"+c}function i(a,b){if(b)return b(a);throw a}function j(a,b){for(var c=0;c<a.length;c++)if(b.indexOf(a[c])!==-1)return!0;return!1}var k=a("reqwest"),l=a("./lib/assert-required"),m=a("trim"),n=a("xtend"),o=a("inherits"),p=a("events"),q=a("jwt-decode");o(d,p),d.version=a("./version").str,d.clientInfo={name:"2Auth.js",version:d.version},d.prototype.info=function(){var a=this;return{endPoint:a._endpoint,domainId:a._domainId,clientId:a._clientId,tenantId:a._tenant.id}},d.prototype.version=function(){return d.version},d.prototype.addHeaderContextKeys=function(a){var b=this,c=n(a.headers||{},{"X-2Auth-Domain-Id":b._domainId,"X-2Auth-Client-Id":b._clientId,"X-2Auth-Tenant-Id":b._tenant.id});return n(a,{headers:c})},d.prototype.setTenant=function(a,b,c){var d=this;d._tenant.id=a,d._tenant.description=b,d._tenant.literalId=c},d.prototype.getTenant=function(){var a=this;return a._tenant},d.prototype.authenticate=function(a,b){var c=this;if("undefined"!=typeof a.username||"undefined"!=typeof a.email)return c.authenticateWithUsernamePassword(a,b)},d.prototype.authenticateWithUsernamePassword=function(a,b){var c=this,d=n({},a,{username:m(a.username||a.email||"")}),e=c._protocol,g=c._endpoint,j="api/v1/profile/users/authenticate",l=h(e,g,j),o={url:l,type:"json",headers:{"X-2Auth-Local-IP":c._IPs.Local||c._IPs.IPv6},method:"post",contentType:"application/json",data:JSON.stringify(d),crossOrigin:!0};k(c.addHeaderContextKeys(o)).fail(function(a){c.emit("error",a),i(a,b)}).then(function(a){var d={};if("success"===a.status&&a.data.authenticated===!0){d={status:a.status,accessToken:a.data.accessToken},c._userJwt=d.accessToken,c._encodedUserId=btoa(q(c._userJwt).userId).replace("===","").replace("==","").replace("=","")+"~~";var e=btoa(q(c._userJwt).tenantId).replace("===","").replace("==","").replace("=","")+"~~",g=f(q(c._userJwt),"tenant")?q(c._userJwt).tenant:"";c.setTenant(e,g,q(c._userJwt).tenantId),c.emit("authenticated",d)}else d={status:a.status,message:a.message,errorCode:a.error_code},c.emit("authentication_error",d);b&&b(d)})},d.prototype.refreshToken=function(a,b){var c=this,d=c._protocol,e=c._endpoint,g="api/v1/profile/users/refresh-token",j=h(d,e,g),l={url:j,type:"json",method:"get",contentType:"application/json",headers:{Authorization:"Bearer "+a.token,"X-2Auth-Local-IP":c._IPs.Local||c._IPs.IPv6},crossOrigin:!0};k(c.addHeaderContextKeys(l)).fail(function(a){i(a,b)}).then(function(a){var d={};if("success"===a.status&&a.data.authenticated===!0){d={status:a.status,accessToken:a.data.accessToken,revokePassword:a.data.revokePassword},c._userJwt=d.accessToken,c._encodedUserId=btoa(q(c._userJwt).userId).replace("===","").replace("==","").replace("=","")+"~~";var e=btoa(q(c._userJwt).tenantId).replace("===","").replace("==","").replace("=","")+"~~",g=f(q(c._userJwt),"tenant")?q(c._userJwt).tenant:"";c.setTenant(e,g,q(c._userJwt).tenantId)}else d={status:a.status,message:a.message,errorCode:a.error_code};b&&b(d)})},d.prototype.clearToken=function(){var a=this;a._userJwt={}},d.prototype.getUserProfile=function(a){var b=this;return b.getUserInfo(b._encodedUserId,a)},d.prototype.getUserInfo=function(a,b){var c=this;if(g(b),!a||"string"!=typeof a&&!a.endsWith("~~"))return b(new Error("Invalid user id"));var d=c._protocol,e=c._endpoint,f="api/v1/profile/users/"+c._encodedUserId,j=h(d,e,f),l={url:j,type:"json",method:"get",contentType:"application/json",crossOrigin:!0,headers:{Authorization:"Bearer "+c._userJwt}};return k(c.addHeaderContextKeys(l)).fail(function(a){i(a,b)}).then(function(a){if("success"===a.status){try{a.data.metadata=JSON.parse(a.data.metadata)}catch(b){a.data.metadata=null}var c=a.data;b(null,c)}else i({status:a.status,message:a.message,errorCode:a.error_code},b)})},d.prototype.IdentityPreflight=function(a,b){var c=this;g(b);var d=c._protocol,e=c._endpoint,f="api/v1/profile/users/identity-preflight",j=h(d,e,f),l={url:j,type:"json",method:"post",contentType:"application/json",data:JSON.stringify({Identity:a}),crossOrigin:!0};return k(c.addHeaderContextKeys(l)).fail(function(a){i(a,b)}).then(function(a){if("success"===a.status){var c=a.data;b(null,c)}else i({status:a.status,message:a.message,errorCode:a.error_code},b)})},d.prototype.getUserTenants=function(a){var b=this;g(a);var c=b._protocol,d=b._endpoint,e="api/v1/context/clients/"+b._clientId+"/users/"+b._encodedUserId+"/tenants",f=h(c,d,e),j={url:f,type:"json",method:"get",contentType:"application/json",crossOrigin:!0,headers:{Authorization:"Bearer "+b._userJwt}};return k(b.addHeaderContextKeys(j)).fail(function(b){i(b,a)}).then(function(b){"success"===b.status?a(null,b.data):i({status:b.status,message:b.message,errorCode:b.error_code},a)})},d.prototype.hasRole=function(a){var b=this;a instanceof Array!=!0&&(a=[a]);var c=q(b._userJwt);return!!f(c,["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"])&&(c=c["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"],c instanceof Array!=!0&&(c=[c]),j(a,c))},d.prototype.hasClaim=function(a){var b=this;a instanceof Array!=!0&&(a=[a]);var c=q(b._userJwt);return!!f(c,["claim"])&&(c=c.claim,c instanceof Array!=!0&&(c=[c]),j(a,c))},d.prototype.changePassword=function(a,b,c){var d=this;g(c);var e=d._protocol,f=d._endpoint,j="api/v1/profile/users/change-password",l=h(e,f,j),m={url:l,type:"json",method:"put",contentType:"application/json",headers:{Authorization:"Bearer "+d._userJwt},data:JSON.stringify({CurrentPassword:a,NewPassword:b}),crossOrigin:!0};return k(d.addHeaderContextKeys(m)).fail(function(a){i(a,c)}).then(function(a){"success"===a.status?c(null,a.data):i({status:a.status,message:a.message,errorCode:a.error_code},c)})},d.prototype.getTenantMetadata=function(a){var b=this,c=b._tenant.id,d=b._protocol,e=b._endpoint,f="api/v1/context/tenants/"+c+"/metadata",g=h(d,e,f),j={url:g,type:"json",method:"get",contentType:"application/json",crossOrigin:!0,headers:{Authorization:"Bearer "+b._userJwt}};return k(b.addHeaderContextKeys(j)).fail(function(b){i(b,a)}).then(function(b){"success"===b.status?a(null,b.data):i({status:b.status,message:b.message,errorCode:b.error_code},a)})},d.prototype.getUserTenantMetadata=function(a){var b=this,c=q(b._userJwt).userId,d=b._protocol,e=b._endpoint,f="api/v1/profile/users/"+c+"/clients/"+b._clientId+"/tenants/"+b._tenant.id+"/metadata",g=h(d,e,f),j={url:g,type:"json",method:"get",contentType:"application/json",crossOrigin:!0,headers:{Authorization:"Bearer "+b._userJwt}};return k(b.addHeaderContextKeys(j)).fail(function(b){i(b,a)}).then(function(b){"success"===b.status?a(null,b.data):i({status:b.status,message:b.message,errorCode:b.error_code},a)})},d.prototype.logout=function(a,b){var c=this,d=c._protocol,e=c._endpoint,f="api/v1/profile/users/logout",g=h(d,e,f),j={url:g,type:"json",method:"post",contentType:"application/json",headers:{Authorization:"Bearer "+a.token,"X-2Auth-Local-IP":c._IPs.Local||c._IPs.IPv6},crossOrigin:!0};k(c.addHeaderContextKeys(j)).fail(function(a){i(a,b)}).then(function(a){return"success"===a.status?a.data:void i({status:a.status,message:a.message,errorCode:a.error_code})})},b.exports=d},{"./lib/assert-required":2,"./version":13,events:4,inherits:5,"jwt-decode":8,reqwest:9,trim:10,xtend:11}],2:[function(a,b,c){function d(a,b){if(!a[b])throw new Error(b+" is required.")}b.exports=d},{}],3:[function(a,b,c){},{}],4:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],5:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],6:[function(a,b,c){function d(a){this.message=a}function e(a){var b=String(a).replace(/=+$/,"");if(b.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,e,g=0,h=0,i="";e=b.charAt(h++);~e&&(c=g%4?64*c+e:e,g++%4)?i+=String.fromCharCode(255&c>>(-2*g&6)):0)e=f.indexOf(e);return i}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.prototype=new Error,d.prototype.name="InvalidCharacterError",b.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||e},{}],7:[function(a,b,c){function d(a){return decodeURIComponent(e(a).replace(/(.)/g,function(a,b){var c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}var e=a("./atob");b.exports=function(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw"Illegal base64url string!"}try{return d(b)}catch(a){return e(b)}}},{"./atob":6}],8:[function(a,b,c){"use strict";var d=a("./base64_url_decode");b.exports=function(a,b){if("string"!=typeof a)throw new Error("Invalid token specified");b=b||{};var c=b.header===!0?0:1;return JSON.parse(d(a.split(".")[c]))}},{"./base64_url_decode":7}],9:[function(require,module,exports){!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function succeed(a){var b=protocolRe.exec(a.url);return b=b&&b[1]||context.location.protocol,httpsRe.test(b)?twoHundo.test(a.request.status):!!a.request.response}function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):a._timedOut?c(a.request,"Request is aborted: timeout"):void(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,succeed(a)?b(a.request):c(a.request)))}}function setHeaders(a,b){var c,d=b.headers||{};d.Accept=d.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"];var e="undefined"!=typeof FormData&&b.data instanceof FormData;b.crossOrigin||d[requestedWith]||(d[requestedWith]=defaultHeaders.requestedWith),d[contentType]||e||(d[contentType]=b.contentType||defaultHeaders.contentType);for(c in d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function setCredentials(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),context[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,"undefined"==typeof j.onreadystatechange||l||(j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){return!(j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k)&&(j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),void(k=1))},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var c,d=this.o,e=(d.method||"GET").toUpperCase(),f="string"==typeof d?d:d.url,g=d.processData!==!1&&d.data&&"string"!=typeof d.data?reqwest.toQueryString(d.data):d.data||null,h=!1;return"jsonp"!=d.type&&"GET"!=e||!g||(f=urlappend(f,g),g=null),"jsonp"==d.type?handleJsonp(d,a,b,f):(c=d.xhr&&d.xhr(d)||xhr(d),c.open(e,f,d.async!==!1),setHeaders(c,d),setCredentials(c,d),context[xDomainRequest]&&c instanceof context[xDomainRequest]?(c.onload=a,c.onerror=b,c.onprogress=function(){},h=!0):c.onreadystatechange=handleReadyState(this,a,b),d.before&&d.before(c),h?setTimeout(function(){c.send(g)},200):c.send(g),c)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){if(null!==a)return a.match("json")?"json":a.match("javascript")?"js":a.match("text")?"html":a.match("xml")?"xml":void 0}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(a){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(a){return error(resp,"Could not parse JSON in response",a)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c,d,e,f,g=a.name,h=a.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&b(g,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&g)switch(h){case"input":/reset|button|image|file/i.test(a.type)||(c=/checkbox/i.test(a.type),d=/radio/i.test(a.type),e=a.value,(!(c||d)||a.checked)&&b(g,normalize(c&&""===e?"on":e)));break;case"textarea":b(g,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(f=0;a.length&&f<a.length;f++)a.options[f].selected&&i(a.options[f])}}function eachFormElement(){var a,b,c=this,d=function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[byTag](b[d]),e=0;e<f.length;e++)serial(f[e],c)};for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&serial(a,c),d(a,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(a){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=context[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this},catch:function(a){return this.fail(a)}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest})},{xhr2:3}],10:[function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}c=b.exports=d,c.left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],11:[function(a,b,c){function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}],12:[function(a,b,c){(function(b){var c=a("./index");"function"==typeof b.window.define&&b.window.define.amd?b.window.define("Idt2Auth",function(){return c}):b.window&&(b.window.Idt2Auth=c)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":1}],13:[function(a,b,c){b.exports={str:"1.0.0"}},{}]},{},[12]);